# generated by cabal-rpm-2.2.2 --stream hackage --subpackage
# https://docs.fedoraproject.org/en-US/packaging-guidelines/Haskell/

%{?haskell_setup}

%global coprapi copr-api-0.2.0
%global say say-0.1.0.1

%global subpkgs %{coprapi} %{say}

Name:           fbrnch
Version:        1.6.1
# can only be reset when all subpkgs bumped
Release:        25%{?dist}
Summary:        Fedora packager tool to build package branches

# copr-api: GPLv3+
# fbrnch: GPLv2+
# fixme: this is really SourceLicense
License:        GPL-2.0-or-later AND GPL-3.0-or-later
Url:            https://hackage.haskell.org/package/fbrnch
# Begin cabal-rpm sources:
Source0:        https://hackage.haskell.org/package/%{name}-%{version}/%{name}-%{version}.tar.gz
Source1:        https://hackage.haskell.org/package/%{coprapi}/%{coprapi}.tar.gz
Source2:        https://hackage.haskell.org/package/%{say}/%{say}.tar.gz
# End cabal-rpm sources

# Begin cabal-rpm deps:
BuildRequires:  ghc-Cabal-devel
BuildRequires:  ghc-rpm-macros-extra
BuildRequires:  ghc-aeson-devel
BuildRequires:  ghc-async-devel
BuildRequires:  ghc-base-devel
BuildRequires:  ghc-bodhi-devel
BuildRequires:  ghc-bugzilla-redhat-devel
BuildRequires:  ghc-bytestring-devel
BuildRequires:  ghc-config-ini-devel
#BuildRequires:  ghc-copr-api-devel
BuildRequires:  ghc-directory-devel
BuildRequires:  ghc-either-devel
BuildRequires:  ghc-email-validate-devel
BuildRequires:  ghc-extra-devel
BuildRequires:  ghc-fedora-releases-devel
BuildRequires:  ghc-filepath-devel
BuildRequires:  ghc-http-conduit-devel
BuildRequires:  ghc-http-directory-devel
BuildRequires:  ghc-http-query-devel
BuildRequires:  ghc-koji-devel
BuildRequires:  ghc-network-uri-devel
BuildRequires:  ghc-pagure-devel
BuildRequires:  ghc-pretty-terminal-devel
BuildRequires:  ghc-process-devel
BuildRequires:  ghc-rpm-nvr-devel
BuildRequires:  ghc-rpmbuild-order-devel
BuildRequires:  ghc-safe-devel
#BuildRequires:  ghc-say-devel
BuildRequires:  ghc-select-rpms-devel
BuildRequires:  ghc-simple-cmd-devel
BuildRequires:  ghc-simple-cmd-args-devel
BuildRequires:  ghc-simple-prompt-devel
BuildRequires:  ghc-text-devel
BuildRequires:  ghc-time-devel
BuildRequires:  ghc-typed-process-devel
BuildRequires:  ghc-unix-devel
BuildRequires:  ghc-utf8-string-devel
BuildRequires:  ghc-xdg-basedir-devel
%if %{with ghc_prof}
BuildRequires:  ghc-aeson-prof
BuildRequires:  ghc-async-prof
BuildRequires:  ghc-base-prof
BuildRequires:  ghc-bodhi-prof
BuildRequires:  ghc-bugzilla-redhat-prof
BuildRequires:  ghc-bytestring-prof
BuildRequires:  ghc-config-ini-prof
#BuildRequires:  ghc-copr-api-prof
BuildRequires:  ghc-directory-prof
BuildRequires:  ghc-either-prof
BuildRequires:  ghc-email-validate-prof
BuildRequires:  ghc-extra-prof
BuildRequires:  ghc-fedora-releases-prof
BuildRequires:  ghc-filepath-prof
BuildRequires:  ghc-http-conduit-prof
BuildRequires:  ghc-http-directory-prof
BuildRequires:  ghc-http-query-prof
BuildRequires:  ghc-koji-prof
BuildRequires:  ghc-network-uri-prof
BuildRequires:  ghc-pagure-prof
BuildRequires:  ghc-pretty-terminal-prof
BuildRequires:  ghc-process-prof
BuildRequires:  ghc-rpm-nvr-prof
BuildRequires:  ghc-rpmbuild-order-prof
BuildRequires:  ghc-safe-prof
#BuildRequires:  ghc-say-prof
BuildRequires:  ghc-select-rpms-prof
BuildRequires:  ghc-simple-cmd-prof
BuildRequires:  ghc-simple-cmd-args-prof
BuildRequires:  ghc-simple-prompt-prof
BuildRequires:  ghc-text-prof
BuildRequires:  ghc-time-prof
BuildRequires:  ghc-typed-process-prof
BuildRequires:  ghc-unix-prof
BuildRequires:  ghc-utf8-string-prof
BuildRequires:  ghc-xdg-basedir-prof
%endif
BuildRequires:  help2man
# for missing dep 'copr-api':
BuildRequires:  ghc-unordered-containers-devel
%if %{with ghc_prof}
BuildRequires:  ghc-unordered-containers-prof
%endif
# for missing dep 'say':
BuildRequires:  ghc-transformers-devel
%if %{with ghc_prof}
BuildRequires:  ghc-transformers-prof
%endif
# End cabal-rpm deps
# manpage
BuildRequires:  help2man
Requires:       bodhi-client
Requires:       curl
%if %{defined fedora}
Requires:       fedora-packager-kerberos
%endif
Requires:       fedpkg
Requires:       git-core
Requires:       koji
Requires:       openssh-clients
Requires:       rpm-build
Requires:       rpmautospec
Requires:       rpmdevtools
Recommends:     copr-cli
Recommends:     fedora-review
Recommends:     koji-tool

%description
Fbrnch (fedora branch or "f-branch" for short) is a convenient packaging tool
for Fedora Packagers, with integration for Bugzilla, Koji, and Bodhi.

Features include:
- merging and building a package across release branches
- automated parallel builds of sets of packages in dependency order
- creating, updating and listing one's package reviews
- requesting repos for new approved packages and branch requests
- import srpms from package reviews
- progressive copr builds
and many more commands.


%global main_version %{version}

%if %{defined ghclibdir}
%ghc_lib_subpackage -l GPL-3.0-or-later %{coprapi}
%ghc_lib_subpackage -l MIT %{say}
%endif

%global version %{main_version}


%prep
# Begin cabal-rpm setup:
%setup -q -a1 -a2
# End cabal-rpm setup


%build
# Begin cabal-rpm build:
%ghc_libs_build %{subpkgs}
%ghc_bin_build
# End cabal-rpm build


%install
# Begin cabal-rpm install
%ghc_libs_install %{subpkgs}
%ghc_bin_install

set noclobber
mkdir -p %{buildroot}%{bash_completions_dir}
%{buildroot}%{_bindir}/%{name} --bash-completion-script %{name} | sed s/filenames/default/ > %{buildroot}%{bash_completions_dir}/%{name}

mkdir -p %{buildroot}%{_mandir}/man1/
help2man --no-info %{buildroot}%{_bindir}/%{name} > %{buildroot}%{_mandir}/man1/%{name}.1
# End cabal-rpm install


%files
# Begin cabal-rpm files:
%license LICENSE
%doc CHANGELOG.md README.md
%{_bindir}/%{name}
%{bash_completions_dir}/%{name}
%{_mandir}/man1/%{name}.1*
# End cabal-rpm files


%changelog
* Thu Jan 16 2025 Fedora Release Engineering <releng@fedoraproject.org> - 1.6.1-25
- Rebuilt for https://fedoraproject.org/wiki/Fedora_42_Mass_Rebuild

* Tue Dec 17 2024 Jens Petersen <petersen@redhat.com> - 1.6.1-24
- https://hackage.haskell.org/package/fbrnch-1.6.1/changelog
- 'build','parallel': waitrepo now just uses "koji wait-repo --request"
- 'build': now respects --waitrepo
- 'local','install': new --jobs option for _smp_ncpus_max
- waitrepo is now timed again

* Fri Dec 13 2024 Jens Petersen <petersen@redhat.com> - 1.6-23
- https://hackage.haskell.org/package/fbrnch-1.6/changelog
- supports new wait-repo-request koji workflow
- fedora-releases and select-rpms now packaged in fedora
- Release Highlights:
- update to fedora-releases-0.2.0 (supports epel10.0)
- kojiWaitRepo: uses request-repo to trigger newrepo
- 'build': use --notes to set Bodhi update notes text (#59)
- 'clone' now uses fedpkg for better compatibility (#62)
- 'copr' refactoring and fix existingChrootBuilds to prevent rebuilds
- 'create-review': include FAS id if can be determined (#42)
- 'create-review': --force to create a new "duplicate" review (#53)
- 'import': prompt whether to build or only push (#47)
- 'install': add --existing-only, --skip-existing, --no-reinstall options from select-rpms-0.2 (ported from koji-tool --install)
- 'parallel': koji-tool tail of failed build.log if < 3 packages in layer
- 'request-repo': now offers to import the new repo immediately
- 'request-repo': only post comment if prompt input
- 'review-package': allow --interactive also for local review
- 'review-package': summarizes long rpmlint error output
- 'reviews --created': now uses REL_PREP state
- 'scratch-x86_64','scratch-aarch64': --exclude-arch no longer fast fails
- 'sidetag': add --create
- 'update': remove autorelease -b bump when updating version
- RpmBuild buildRequires: improve dyn BRs handling
- fix merging from new unfetched branch
- sentence-case commit and changelog messages (#38)
- targetMaybeSidetag: now maps "rawhide" to its dist_tag

* Thu Aug 22 2024 Jens Petersen <petersen@redhat.com>
- bodhi and pagure libraries now packaged in Fedora

* Sun Aug 18 2024 Jens Petersen <petersen@redhat.com> - 1.5-22
- https://hackage.haskell.org/package/fbrnch-1.5/changelog
- highlights:
- ported from using PDC to Bodhi: `fedora-dists` replaced by `fedora-releases`
- some improvements to autorelease handling
- 'clone': prints no of repos and new --group option
- 'copr' defaults to no longer rebuilding nvr's; new --monitor option
- 'install': one can now select subpackages (like koji-tool install)
  using new `select-rpms` library
- 'parallel' accepts chain-build style list of sorted package layers
- 'review-package': new --interactive lightweight review mode
- 'reviews': new --assignee, --submitted and --submitter options
- 'sort' defaults to chain-build style output
- 'update-sources': git add patches
- require rpmbuild-order 0.4.12 to order rust crates and rubygems
- git fetch earlier to get new branches

* Fri Aug  2 2024 Jens Petersen <petersen@redhat.com> - 1.4-21
- update bodhi to 0.1.2

* Wed Jul 17 2024 Fedora Release Engineering <releng@fedoraproject.org> - 1.4-20
- Rebuilt for https://fedoraproject.org/wiki/Fedora_41_Mass_Rebuild

* Fri May 03 2024 Jens Petersen <petersen@redhat.com> - 1.4-19
- https://hackage.haskell.org/package/fbrnch-1.4/changelog
- new features include:
- 'build' and 'pull' --stash
- 'build','parallel': now offer to 'update-sources'
- 'install' build is now verbose
- 'mock' works from non dist-git
- 'parallel' no longer waits for request-testing
- 'parallel' now also uses koji-tool for failure link
- 'scratch' --allow-head
- 'sort' now defines %%fedora etc

* Fri Mar  8 2024 Jens Petersen <petersen@redhat.com>
- simple-prompt is now packaged in Fedora
- require rpmautospec and recommend koji-tool
- bump copr-api to 0.2.0

* Wed Jan 24 2024 Fedora Release Engineering <releng@fedoraproject.org> - 1.3.3-17
- Rebuilt for https://fedoraproject.org/wiki/Fedora_40_Mass_Rebuild

* Fri Jan 19 2024 Fedora Release Engineering <releng@fedoraproject.org> - 1.3.3-16
- Rebuilt for https://fedoraproject.org/wiki/Fedora_40_Mass_Rebuild

* Thu Oct 19 2023 Jens Petersen <petersen@redhat.com> - 1.3.3-15
- https://hackage.haskell.org/package/fbrnch-1.3.3/changelog :
- 'bump': add --dry-run
- 'copr': track pkg name to output build results url on failure
- 'create-review','update-review': prompt to offer scratch build (#43)
- 'diff': allow origin as alias for origin/<branch>
- 'import': encode url from bz comment if needed (#40)
- 'import': prefix bug# with rhbz in commit (#38)
- 'install': add --no-build to install existing built rpms
- 'parallel': --delay to override default inter-package pause [default 3s]
- 'parallel': use pkg name in changelog instead of nvr
- 'request-repo': avoid head crash on firstname (#45)
- 'request-repo': no longer post request url to avoid duplication
- 'scratch': with --exclude-arch respect ExcludeArch: fields
- 'unpushed': add --bump
- 'unpushed': output improvements for --latest and dead.package/missing
- 'update-sources': alias for "update-version --source-only"
- 'update-version': only warn about branch if dist-git
- 'update-version': rpm prep with --nodeps
- 'update-version': take .gpg and .tgz file for lookaside archive!
- Krb: loop fkinit until okay
- Main: --dry-run options now better described
- RpmBuild: prevent srpm creation from being interrupted (eg ctrl-c)
- gitFetchSilent: use \r to hide "git fetching..."
- kojiWatchTask: do not hardcode koji-tool path
- pkgNameVerRel: use fedpkg to determine correct autorelease (#39)

* Fri Aug  4 2023 Jens Petersen <petersen@redhat.com> - 1.3.2-14
- ghc-cached-json-file is now packaged in Fedora

* Sat Jul 29 2023 Jens Petersen <petersen@redhat.com> - 1.3.2-13
- rebuild

* Wed Jul 19 2023 Fedora Release Engineering <releng@fedoraproject.org> - 1.3.2-12
- Rebuilt for https://fedoraproject.org/wiki/Fedora_39_Mass_Rebuild

* Tue May 30 2023 Jens Petersen <petersen@redhat.com> - 1.3.2-11
- https://hackage.haskell.org/package/fbrnch-1.3.2/changelog :
- prompts now support line-editing thanks to simple-prompt-0.2 using haskeline
- 'parallel', 'sort', 'graph': use getDynSourcesMacros
- 'parallel': include no of layers in "more package layers" message
- 'parallel': output sidetag
- 'prep': default to --nodeps
- 'request-branches': output owners (to ask) if no permission
- 'request-branches': committers can also request branches
- 'scratch': print target for srpm build (only)
- 'src-deps': add --define 'MACRO DEF'
- 'update-version': munch spectool patch filenames too
- Bodhi only accepts update notes <= 10000 characters now
- Git refPrompt: also accept y/yes
- Koji targetMaybeSidetag dryrun: do not append "-dryrun" to buildtag
- Merge: newline after local commits
- Package cleanChangelog: append a newline
- https://hackage.haskell.org/package/fbrnch-1.3.1/changelog :
- check for autorelease more carefully
- buildRequires: fix dynamic BRs with getSources and space after %%_srcrpmdir
  (reported by kiilerix)

* Sat Apr  8 2023 Jens Petersen <petersen@redhat.com> - 1.3-10
- new 'autospec' command converts packages to use rpmautospec
- new 'move-artifacts' command moves rpmbuild artifacts into dirs (--delete)
- new 'srpm-spec' command shows or diffs srpm specfiles
- new 'unpushed' command shows unpushed commits; and --latest option
- new 'bzusers' command searches users in bugzilla
- 'build': check for Bodhi update before koji tags
- 'build': do not repeat header when merging
- 'build': improve logic and prompt for unpushed check
- 'bump': add --changelog override and handle autorelease
- 'copr': intersperse newlines between packages
- 'diff': --debug option to print package header
- 'diff': handle missing and non-release branches
- 'install': add --ignore-builddeps (for existing built rpms)
- 'install': ignore dead.package's
- 'install': show dnf commands with sudoLog and cmdN sudo
- 'merge': --no-fetch option
- 'mock': add --arch option
- 'mock': new --shell-only option which skips build
- 'override': default to ./ when no pkg path given
- 'parallel': if single layer, don't output layer no
- 'parallel': improve sidetag update transition messages, now waits 90s
- 'parallel': output tweaks for more packages/layers and existing nvr
- 'parallel': prompt whether to continue after failure
- 'parallel': reverse the package order for update changelog
- 'parallel': be quieter when many parallel packages
- 'push': --no-fetch option and also print header
- 'push': allow specifying a ref
- 'rename-rawhide': now pulls to get latest
- 'scratch': add --srpm option to build existing srpm
- 'status': add pkg/branch prefix before latest log
- Bugzilla: update checkRepoCreatedComment for fedora-admin automation
- Copr branchRelease: do not error for EPELNext!
- buildRPMs: backup the build.log file to build.log.prev
- buildRPMs: print NVR instead of package name
- kojiWatchTask: use koji-tool to get build.log tail on failure
- use simple-prompt

* Wed Jan  4 2023 Jens Petersen <petersen@redhat.com> - 1.2.1-9
- fedora-packager-kerberos not in epel9

* Wed Nov 23 2022 Jens Petersen <petersen@redhat.com> - 1.2.1-8
- 'install': if dnf install fails, include command in error message
- 'override': check for kerberos ticket
- 'override': new --list and --expire option subcommands
- 'parallel': print package header for merge
- 'parallel': wait for sidetag update to transition to request testing
- 'request-branches': check package owner and admins: drop unordered-containers
- 'sidetags': ensure krb ticket
- 'update-version': now commits sources too
- 'update-version': prompt rather than warn if not updating rawhide
- Git: fix conflictPrompt to handle long hashes correctly
- Prompt: use show for unprintable characters
- mergeBranch: print package branch header
- require bugzilla-redhat-1.0.1 since b.r.c dropped Bug see_also field (juhp/hsbugzilla#18)
- use logMsg when waiting for repo
- https://hackage.haskell.org/package/fbrnch-1.2.1/changelog
- fbrnch.spec: SPDX migration of license tags

* Sat Nov 12 2022 Jens Petersen <petersen@redhat.com> - 1.2-7
- improvements to the branch merging logic
- no more gratuitous merge rebasing
- 'build' bugfix: use long git commit hashes
- 'build','scratch','waitrepo': add --sidetag option
- 'local': add --short-compile and rename --short-circuit to --short-install
- 'merge': --skip-bumps ignores up to N (trivial) commits & --show-all
- 'mock': add simple --short-circuit option for install stage
- 'parallel': no longer offer to remove sidetag
- 'parallel': update improvements, including fixing parallel
   single package update (#36)
- 'request-branches': add --recurse-from BRANCH
- 'scratch' builds now support multiple (serial) targets
- 'install': offer to merge and add --from to override branch
- 'install': only update installed subpackages, unless --all-subpackages
- new git 'fetch' command
- new 'list-local' command: lists packages with a spec file in a branch
- new 'owner' command: prints owner and admins of package(s)
- new 'src-deps' command: wrapper of rpmbuild-order (r)deps
- many smaller fixes and improvements:
  see https://hackage.haskell.org/package/fbrnch-1.2/changelog for details

* Sat Jul 30 2022 Jens Petersen <petersen@redhat.com> - 1.1.2-6
- build, install: count remaining builds
- commit: add all if nothing staged; remove initial "- "
- commit: default to changelog even if multiline
- compare: check branch exists and only print package if log output
- create-review: Fix for different username/fasid (@LyesSaadi, #34)
- install: abort if installation failed
- listReviewsAll: use bz api key
- merge: do not error if target branch does not exist
- parallel: create changelog for parallel package builds
- parallel: now takes same merge opts as build (#30)
- parallel: push parallel branches builds to Bodhi (#30)
- parallel: timeIO layers and parallel packages
- parallel: use branch to determine autoupdate or prompt for update edit
- pull: switch to given branch, add --no-fetch, show header when several pkgs
- request-branches: check user in access_users to avoid bad requests
- scratch: add --stagger to stagger archs
- scratch: only check pushed if release branch
- scratch-x86_64, scratch-aarch64: new shortcut commands
- waitrepo: --allow-dirty and --no-fetch
- waitrepo: use timeIO to time the operation
- Branches getRequestedBranches: exclude existing branches
- Git gitMergeable: only check newer branch if local
- Git gitMergeable: warn if branch ahead of newer branch
- kojiWaitRepo: add quiet arg for many parallel builds
- Package withPackagesByBranches: takes header & count args
- use rpmbuild-order-0.4.8 (needs simple-cmd-0.2.3)
- https://hackage.haskell.org/package/fbrnch-1.1.2/changelog

* Thu Jul 21 2022 Fedora Release Engineering <releng@fedoraproject.org> - 1.1.1-5
- Rebuilt for https://fedoraproject.org/wiki/Fedora_37_Mass_Rebuild

* Fri Jun 17 2022 Jens Petersen <petersen@redhat.com> - 1.1.1-4
- rebuild

* Tue May 31 2022 Jens Petersen <petersen@redhat.com> - 1.1.1-3
- commit: fix getting log from additional changelog message
- merge: --from to specify which branch to merge
- Package getSources: install compression tool if missing
- Package buildRPMs: use shellBool to send stderr also to tee
- request-branches: print out url per branch
- require rpm-nvr 0.1.2 for better NVR name validation
- initial support for epel-next (#29)
- Package builtRpms: no longer assume in cwd for dist-git
- build: now possible to skip pushing an update at prompt with 'no'
- main help: add readme url
- build: add --skip-fetch option
- Git isPkgGitRepo: fix handling of forks (#33)
- parallel: add --merge (#30)
- fix -s/-S ambigious for build and parallel
- parallel: unlock update after sidetag removal
- parallel: waitrepo for sidetag before starting to build
- parallel: get buildtag from koji to determine basetag for sidetag
- parallel: allow branch options like --all-fedora/--all-epel

* Sat Apr 30 2022 Jens Petersen <petersen@redhat.com> - 1.1-2
- https://hackage.haskell.org/package/fbrnch-1.1/changelog

* Mon Feb 21 2022 Jens Petersen <petersen@redhat.com> - 1.0.0-1
- https://hackage.haskell.org/package/fbrnch-1.0.0/changelog

* Thu Jan 20 2022 Fedora Release Engineering <releng@fedoraproject.org> - 0.9.1.1-5
- Rebuilt for https://fedoraproject.org/wiki/Fedora_36_Mass_Rebuild

* Sat Jan 08 2022 Miro Hrončok <mhroncok@redhat.com> - 0.9.1.1-4
- Rebuilt for https://fedoraproject.org/wiki/Changes/LIBFFI34

* Tue Sep 14 2021 Sahana Prasad <sahana@redhat.com> - 0.9.1.1-3
- Rebuilt with OpenSSL 3.0.0

* Fri Aug 06 2021 Jens Petersen <petersen@redhat.com> - 0.9.1.1-2
- rebuild

* Sun Aug  1 2021 Jens Petersen <petersen@redhat.com> - 0.9.1.1-1
- getSources: fix mixup between sources and patches
- 'reviews': add --pattern to filter by package prefix

* Thu Jul 29 2021 Jens Petersen <petersen@redhat.com> - 0.9.1-1
- numerous bug fixes and small improvements:
  https://hackage.haskell.org/package/fbrnch-0.9.1/changelog
- note 'local' now creates .build-ver-rel.log

* Wed Jul 21 2021 Fedora Release Engineering <releng@fedoraproject.org> - 0.9-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_35_Mass_Rebuild

* Mon May 31 2021 Jens Petersen <petersen@redhat.com> - 0.9-1
- numerous bug fixes and enhancements:
  https://hackage.haskell.org/package/fbrnch-0.9/changelog
- new commands: 'waitrepo' and 'graph' using rpmbuild-order-0.4.5
- merge checks now show unmergeable branches
- 'parallel' now uses native koji wait-task

* Thu Apr 08 2021 Jens Petersen <petersen@redhat.com> - 0.8.0-1
- major refactor of branch-package args handling together with branch options
- 'request-repos' can now take branch args and --mock option (#18)
- 'parallel': only override and waitrepo if more layers
- extend dryrun to bodhiCreateOverride, putBugBuild, bodhiUpdate, kojiWaitRepo
- drop the restriction of no packages inside a pkg dir (#19)
- 'switch': drop git clean requirement to prevent error when on branch
- 'parallel': use parallelBranches for single package arg
- 'request-branch': allow request for a closed pkg review
- 'copr': new --list-chroots option for project
- 'command': skip dead.package's
- 'build': clearer bodhi note prompt
- 'install': fix conflicting short options for --recurse and --reinstall

* Sat Mar 27 2021 Jens Petersen <petersen@redhat.com> - 0.7.3-3
- fix package branch header for withPackageByBranches

* Fri Mar 26 2021 Jens Petersen <petersen@redhat.com> - 0.7.3-2
- print package branch header with a branch option

* Fri Mar 26 2021 Jens Petersen <petersen@redhat.com> - 0.7.3-1
- changes/improvements to package header output
- 'merge','build': query about diverging newer commits
- 'merge': add --no-prompt option
- Build: refine the "still in testing" logic to check testing repo with prompt
- Koji: offer to resubmit build on API error
- 'scratch': don't get sources for pushed git build
- 'request-repos' now prompts for branching and
  'import' skips offering branching if they exist
- 'import': add --mock option for checking branches (#18)
- add 'not-installed' command: lists packages not installed locally at all
- Bugzilla: don't bother reprinting comment after posting it
- 'rename-master': renamed from 'master-rename'
- 'srpm': add --force option
- `local --force` (or --short): ignore existing built rpms
- 'command': option to hide package header if no output
- 'create-review': fix error for non-existent dir
- 'parallel': don't sleep for dryrun

* Sat Feb 27 2021 Jens Petersen <petersen@redhat.com> - 0.7.2-1
- 'install': --recurse to install missing neighboring deps
- 'request-repo': offer to request branches too
- 'override': --dryrun
- 'build': no longer override the last of built packages
- Bodhi overrides: error if failed; use 4 days
- 'local','install': print package name when build fails
- 'copr': abort on failure
- 'sort': only switch branch for dist-git
- 'review-package': new experimental command
- bunch of other tweaks and smaller fixes

* Wed Feb 10 2021 Jens Petersen <petersen@redhat.com> - 0.7.1-2
- add license files for internal libs

* Tue Feb  9 2021 Jens Petersen <petersen@redhat.com> - 0.7.1-1
- spec file generated by cabal-rpm-2.0.8
