# Generated by go2rpm 1.11.1
%bcond_without check

# https://github.com/chmouel/clipman
%global goipath         github.com/chmouel/clipman
Version:                1.6.4

%gometa -L -f

%global common_description %{expand:
A basic clipboard manager for Wayland, with support for persisting copy buffers
after an application exits.}

%global golicenses      COPYING
%global godocs          docs CHANGELOG.md CONTRIBUTING.md README.md

Name:           clipman
Release:        3%{?dist}
Summary:        A simple clipboard manager for Wayland

License:        GPL-3.0-only
URL:            %{gourl}
Source:         %{gosource}

Requires:       wl-clipboard >= 2.0

%description %{common_description}

%gopkg

%prep
%goprep -A
%autopatch -p1

%generate_buildrequires
%go_generate_buildrequires

%build
%gobuild -o %{gobuilddir}/bin/clipman %{goipath}

%install
install -m 0755 -vd                     %{buildroot}%{_bindir}
install -m 0755 -vp %{gobuilddir}/bin/* %{buildroot}%{_bindir}/
install -m 0644 -vpD docs/clipman.1  -t %{buildroot}%{_mandir}/man1/

%if %{with check}
%check
%gocheck
%endif

%files
%license COPYING
%doc docs CHANGELOG.md CONTRIBUTING.md README.md
%{_bindir}/*
%{_mandir}/man1/*

%changelog
* Thu Jan 16 2025 Fedora Release Engineering <releng@fedoraproject.org> - 1.6.4-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_42_Mass_Rebuild

* Wed Jul 17 2024 Fedora Release Engineering <releng@fedoraproject.org> - 1.6.4-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_41_Mass_Rebuild

* Fri Apr 19 2024 Mikel Olasagasti Uranga <mikel@olasagasti.info> - 1.6.4-1
- Update to 1.6.4 rhbz#2188817
- Update spec to latest template

* Fri Apr 12 2024 Bob Hepple <bob.hepple@gmail.com> - 1.6.3-1
- new version

* Wed Apr 10 2024 Bob Hepple <bob.hepple@gmail.com> - 1.6.2-6
- changed to new repo: chmouel instead of yori8

* Sun Feb 11 2024 Maxwell G <maxwell@gtmx.me> - 1.6.2-5
- Rebuild for golang 1.22.0

* Wed Jan 24 2024 Fedora Release Engineering <releng@fedoraproject.org> - 1.6.2-4
- Rebuilt for https://fedoraproject.org/wiki/Fedora_40_Mass_Rebuild

* Fri Jan 19 2024 Fedora Release Engineering <releng@fedoraproject.org> - 1.6.2-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_40_Mass_Rebuild

* Wed Jul 19 2023 Fedora Release Engineering <releng@fedoraproject.org> - 1.6.2-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_39_Mass_Rebuild

* Tue Apr 25 2023 Bob Hepple <bob.hepple@gmail.com> - 1.6.2-1
- new version
- use SPDX license specifier

* Thu Jan 19 2023 Fedora Release Engineering <releng@fedoraproject.org> - 1.6.1-6
- Rebuilt for https://fedoraproject.org/wiki/Fedora_38_Mass_Rebuild

* Wed Jul 20 2022 Fedora Release Engineering <releng@fedoraproject.org> - 1.6.1-5
- Rebuilt for https://fedoraproject.org/wiki/Fedora_37_Mass_Rebuild

* Tue Jul 19 2022 Maxwell G <gotmax@e.email> - 1.6.1-4
- Rebuild for CVE-2022-{1705,32148,30631,30633,28131,30635,30632,30630,1962} in
  golang

* Fri Jun 17 2022 Robert-Andr√© Mauchin <zebob.m@gmail.com> - 1.6.1-3
- Rebuilt for CVE-2022-1996, CVE-2022-24675, CVE-2022-28327, CVE-2022-27191,
  CVE-2022-29526, CVE-2022-30629

* Wed Jan 19 2022 Fedora Release Engineering <releng@fedoraproject.org> - 1.6.1-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_36_Mass_Rebuild

* Thu Dec 02 2021 Bob Hepple <bob.hepple@gmail.com> - 1.6.1-1
- new version

* Wed Jul 21 2021 Fedora Release Engineering <releng@fedoraproject.org> - 1.6.0-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_35_Mass_Rebuild

* Sat Jun 19 2021 Bob Hepple <bob.hepple@gmail.com> - 1.6.0-1
- new version

* Tue Mar 16 2021 Bob Hepple <bob.hepple@gmail.com> - 1.5.2-1
- rename spec file to %%{name}.spec

* Tue Mar 02 2021 Bob Hepple <bob.hepple@gmail.com> - 1.5.2-0.2
- rebuilt RHBZ#1933950

* Thu May 14 2020 Aleksei Bavshin <alebastr89@gmail.com> - 1.5.2-0.1
- Update to 1.5.2

* Sat May 09 2020 Aleksei Bavshin <alebastr89@gmail.com> - 1.5.1-0.1
- Update to 1.5.1

* Mon May 04 2020 Aleksei Bavshin <alebastr89@gmail.com> - 1.5.0-0.1
- Update to 1.5.0

* Wed Mar 18 2020 Aleksei Bavshin <alebastr89@gmail.com> - 1.4.0-0.1
- Initial package

