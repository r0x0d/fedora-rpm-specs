# Generated by go2rpm 1.8.1
%bcond_without check
%global debug_package %{nil}
# Avoid noarch package built differently on different architectures
%global __requires_exclude %{?__requires_exclude:%{__requires_exclude}|}^golang\\(golang.org/x/sys/cpu\\)$

# https://github.com/golang/crypto
%global goipath  golang.org/x/crypto
%global forgeurl https://github.com/golang/crypto
Version:         0.33.0

%global godevelheader %{expand:
Provides: golang(golang.org/x/crypto/ssh/testdata) =  %{version}-%{release}
Provides: golang(golang.org/x/crypto/ssh/testdata)(commit=%commit) = %{version}-%{release}}

%gometa

%global common_description %{expand:
Go supplementary cryptography libraries.}

%global golicenses      LICENSE PATENTS
%global godocs          CONTRIBUTING.md README.md

%global gosupfiles ssh/testdata/*

Name:           %{goname}
Release:        %autorelease
Summary:        Go supplementary cryptography libraries

License:        BSD-3-Clause
URL:            %{gourl}
Source0:        %{gosource}

%description %{common_description}

%gopkg

%prep
%goprep

%generate_buildrequires
%go_generate_buildrequires

%install
%gopkginstall

%if %{with check}
%check
# internal/wycheproof: depends on Go modules
%gocheck -d internal/wycheproof \
%ifarch s390x
  -d sha3 \
%endif
   %{nil}

%endif

%gopkgfiles

%changelog
%autochangelog
