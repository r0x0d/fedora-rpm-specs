Name:           pyp2spec
Version:        0.11.1
Release:        %autorelease
Summary:        Generate Fedora RPM spec files for Python projects

# Code is MIT, templates and files generated by the tool MIT-0
License:        MIT AND MIT-0
URL:            https://github.com/befeleme/pyp2spec
Source0:        %{pypi_source pyp2spec}

BuildArch:      noarch
BuildRequires:  python3-devel


%description
pyp2spec is a tech preview. It is a tool generating Fedora RPM spec files
for Python distributions. It utilizes the benefits of pyproject-rpm-macros.


%prep
%autosetup -p1 -n pyp2spec-%{version}


%generate_buildrequires
%pyproject_buildrequires -t


%build
%pyproject_wheel


%install
%pyproject_install
%pyproject_save_files pyp2spec -l


%check
%tox


%files -f %{pyproject_files}
%doc README.md
%{_bindir}/pyp2spec
%{_bindir}/conf2spec
%{_bindir}/pyp2conf


%changelog
%autochangelog
