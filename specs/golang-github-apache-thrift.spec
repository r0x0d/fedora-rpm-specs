# Generated by go2rpm
# Tests are broken
%bcond_with check
%global debug_package %{nil}

# https://github.com/apache/thrift
%global goipath         github.com/apache/thrift
Version:                0.21.0

%gometa

%global goaltipaths     git.apache.org/thrift.git

%global common_description %{expand:
Thrift is a lightweight, language-independent software stack with an associated
code generation mechanism for point-to-point RPC. Thrift provides clean
abstractions for data transport, data serialization, and application level
processing. The code generation system takes a simple definition language as
input and generates code across programming languages that uses the abstracted
stack to build interoperable RPC clients and servers.}

%global golicenses      LICENSE NOTICE
%global godocs          lib/go/README.md

Name:           %{goname}
Release:        1%{?dist}
Summary:        Thrift Go Software Library

License:        Apache-2.0
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  golang(github.com/golang/mock/gomock)

%description
%{common_description}

%gopkg

%prep
%goprep
# Remove files unrelated to the Go Library
find ./* -maxdepth 0 -type d -not -name "lib" -and -not -name "_build" -exec rm -rf "{}" \;
find ./lib -mindepth 1 -maxdepth 1 -type d -not -name "go" -exec rm -rf "{}" \;
rm -rf lib/go/test

%install
%gopkginstall

%if %{with check}
%check
%gocheck
%endif

%gopkgfiles

%changelog
* Tue Dec 31 2024 W. Michael Petullo <mike@flyn.org> - 0.21.0-1
- Update to 0.21.0

* Thu Jul 18 2024 Fedora Release Engineering <releng@fedoraproject.org> - 0.20.0-4
- Rebuilt for https://fedoraproject.org/wiki/Fedora_41_Mass_Rebuild

* Wed Jan 24 2024 Fedora Release Engineering <releng@fedoraproject.org> - 0.19.0-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_40_Mass_Rebuild

* Fri Jan 19 2024 Fedora Release Engineering <releng@fedoraproject.org> - 0.19.0-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_40_Mass_Rebuild

* Thu Oct 05 2023 W. Michael Petullo <mike@flyn.org> - 0.19.0-1
- Update to 0.19.0.
- Use SPDX license nomenclature
- Remove tag, which is not used in this release

* Thu Jul 20 2023 Fedora Release Engineering <releng@fedoraproject.org> - 0.14.1-7
- Rebuilt for https://fedoraproject.org/wiki/Fedora_39_Mass_Rebuild

* Thu Jan 19 2023 Fedora Release Engineering <releng@fedoraproject.org> - 0.14.1-6
- Rebuilt for https://fedoraproject.org/wiki/Fedora_38_Mass_Rebuild

* Thu Jul 21 2022 Fedora Release Engineering <releng@fedoraproject.org> - 0.14.1-5
- Rebuilt for https://fedoraproject.org/wiki/Fedora_37_Mass_Rebuild

* Fri Jun 17 2022 Robert-André Mauchin <zebob.m@gmail.com> - 0.14.1-4
- Rebuilt for CVE-2022-1996, CVE-2022-24675, CVE-2022-28327, CVE-2022-27191,
  CVE-2022-29526, CVE-2022-30629

* Thu Jan 20 2022 Fedora Release Engineering <releng@fedoraproject.org> - 0.14.1-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_36_Mass_Rebuild

* Thu Jul 22 2021 Fedora Release Engineering <releng@fedoraproject.org> - 0.14.1-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_35_Mass_Rebuild

* Sun May 30 20:09:02 CEST 2021 Robert-André Mauchin <zebob.m@gmail.com> - 0.14.1-1
- Update to 0.14.1
- Close: rhbz#1927957

* Tue Jan 26 2021 Fedora Release Engineering <releng@fedoraproject.org> - 0.13.0-4
- Rebuilt for https://fedoraproject.org/wiki/Fedora_34_Mass_Rebuild

* Mon Jul 27 2020 Fedora Release Engineering <releng@fedoraproject.org> - 0.13.0-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_33_Mass_Rebuild

* Tue Jan 28 2020 Fedora Release Engineering <releng@fedoraproject.org> - 0.13.0-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_32_Mass_Rebuild

* Mon Jan 27 02:36:38 CET 2020 Robert-André Mauchin <zebob.m@gmail.com> - 0.13.0-1
- Update to 0.13.0

* Thu Jul 25 2019 Fedora Release Engineering <releng@fedoraproject.org> - 0.12.0-4
- Rebuilt for https://fedoraproject.org/wiki/Fedora_31_Mass_Rebuild

* Thu Apr 18 21:04:58 CEST 2019 Robert-André Mauchin <zebob.m@gmail.com> - 0.12.0-3
- Update to new Go packaging

* Sun Mar 17 2019 Robert-André Mauchin <zebob.m@gmail.com> - 0.12.0-2
- Add github.com/apache/thrift as alternate import path

* Sat Mar 09 2019 Robert-André Mauchin <zebob.m@gmail.com> - 0.12.0-1
- Release 0.12.0

* Thu Jan 31 2019 Fedora Release Engineering <releng@fedoraproject.org> - 0.11.0-0.4.git129f332
- Rebuilt for https://fedoraproject.org/wiki/Fedora_30_Mass_Rebuild

* Fri Jul 13 2018 Fedora Release Engineering <releng@fedoraproject.org> - 0.11.0-0.3.git129f332
- Rebuilt for https://fedoraproject.org/wiki/Fedora_29_Mass_Rebuild

* Thu Jun 28 2018 Robert-André Mauchin <zebob.m@gmail.com> - 0.11.0-0.2.20180628git129f332
- Bump to commit 129f332d72facda5d06f87e2b4e5e08bea0b6b44

* Thu Mar 22 2018 Robert-André Mauchin <zebob.m@gmail.com> - 0.11.0-0.1.20180417git50bfc56
- First package for Fedora
