# Generated by go2rpm 1.11.1
%bcond_without vendor
%if %{without vendor}
%bcond_without check
%endif

# needed for vendored deps
%global gomodulesmode GO111MODULE=on

# https://github.com/tailscale/tailscale
%global goipath         github.com/tailscale/tailscale
Version:                1.78.3

%if 0%{?rhel}
%gometa
%else
%gometa -f
%endif

%global common_description %{expand:
The easiest, most secure way to use WireGuard and 2FA.}

Name:           tailscale
Release:        1%{?dist}
Summary:        The easiest, most secure way to use WireGuard and 2FA

# main source code is BSD-3-Clause
# see comments above provides tags for bundled license breakdown
License:        BSD-2-Clause AND MIT AND Apache-2.0 AND MPL-2.0 AND GPL-3.0-or-later AND ISC AND 0BSD AND BSD-3-Clause
URL:            %{gourl}
Source:         tailscale-%{version}-vendored.tar.xz
Source:         tailscaled.service
Source:         create-vendor-tarball.sh

BuildRequires:     systemd-rpm-macros
Requires:          iproute
Requires:          iptables

# BSD-3-Clause
Provides:       bundled(golang(filippo.io/mkcert)) = v1.4.4
# Apache-2.0
Provides:       bundled(golang(fyne.io/systray)) = v1.11.0
# Apache-2.0
Provides:       bundled(golang(github.com/akutz/memconn)) = v0.1.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/alexbrainman/sspi)) = v0.0.0~20231016080023~1a75b4708caa
# MIT
Provides:       bundled(golang(github.com/andybalholm/brotli)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/anmitsu/go-shlex)) = v0.0.0~20200514113438~38f4b401e2be
# BSD-3-Clause
Provides:       bundled(golang(github.com/atotto/clipboard)) = v0.1.4
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2)) = v1.24.1
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/config)) = v1.26.5
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/feature/s3/manager)) = v1.11.64
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/service/s3)) = v1.33.0
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/service/ssm)) = v1.44.7
# MPL-2.0
Provides:       bundled(golang(github.com/bramvdbogaerde/go-scp)) = v1.4.0
# MIT
Provides:       bundled(golang(github.com/cilium/ebpf)) = v0.15.0
# ISC
Provides:       bundled(golang(github.com/coder/websocket)) = v1.8.12
# Apache-2.0
Provides:       bundled(golang(github.com/coreos/go-iptables)) = v0.7.1~0.20240112124308~65c67c9f46e6
#
Provides:       bundled(golang(github.com/coreos/go-systemd)) = v0.0.0~20191104093116~d3cd4ed1dbcf
# MIT
Provides:       bundled(golang(github.com/creack/pty)) = v1.1.23
# MIT
Provides:       bundled(golang(github.com/dave/courtney)) = v0.4.0
# MIT
Provides:       bundled(golang(github.com/dave/patsy)) = v0.0.0~20210517141501~957256f50cba
# BSD-3-Clause
Provides:       bundled(golang(github.com/dblohm7/wingoes)) = v0.0.0~20240119213807~a09d6be7affa
# Apache-2.0
Provides:       bundled(golang(github.com/digitalocean/go-smbios)) = v0.0.0~20180907143718~390a4f403a8e
# Apache-2.0
Provides:       bundled(golang(github.com/distribution/reference)) = v0.6.0
# MIT
Provides:       bundled(golang(github.com/djherbis/times)) = v1.6.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/dsnet/try)) = v0.0.3
# Apache-2.0
Provides:       bundled(golang(github.com/elastic/crd-ref-docs)) = v0.0.12
# MIT
Provides:       bundled(golang(github.com/evanw/esbuild)) = v0.19.11
# MIT
Provides:       bundled(golang(github.com/fogleman/gg)) = v1.3.0
# MIT
Provides:       bundled(golang(github.com/frankban/quicktest)) = v1.14.6
# MIT
Provides:       bundled(golang(github.com/fxamacker/cbor/v2)) = v2.6.0
# MIT
Provides:       bundled(golang(github.com/gaissmai/bart)) = v0.11.1
#
Provides:       bundled(golang(github.com/go-json-experiment/json)) = v0.0.0~20231102232822~2e55bd4e08b0
# Apache-2.0
Provides:       bundled(golang(github.com/go-logr/zapr)) = v1.3.0
# MIT
Provides:       bundled(golang(github.com/go-ole/go-ole)) = v1.3.0
# BSD-2-Clause
Provides:       bundled(golang(github.com/godbus/dbus/v5)) = v5.1.1~0.20230522191255~76236955d466
#
Provides:       bundled(golang(github.com/golang/groupcache)) = v0.0.0~20210331224755~41bb18bfe9da
# BSD-3-Clause
Provides:       bundled(golang(github.com/golang/snappy)) = v0.0.4
# GPL-3.0
Provides:       bundled(golang(github.com/golangci/golangci-lint)) = v1.57.1
# BSD-3-Clause
Provides:       bundled(golang(github.com/google/go-cmp)) = v0.6.0
# Apache-2.0
Provides:       bundled(golang(github.com/google/go-containerregistry)) = v0.20.2
# BSD-3-Clause
Provides:       bundled(golang(github.com/google/gopacket)) = v1.1.19
# Apache-2.0
Provides:       bundled(golang(github.com/google/nftables)) = v0.2.1~0.20240414091927~5e242ec57806
# BSD-3-Clause
Provides:       bundled(golang(github.com/google/uuid)) = v1.6.0
# MIT
Provides:       bundled(golang(github.com/goreleaser/nfpm/v2)) = v2.33.1
# BSD-3-Clause
Provides:       bundled(golang(github.com/hdevalence/ed25519consensus)) = v0.2.0
# MIT
Provides:       bundled(golang(github.com/illarion/gonotify/v2)) = v2.0.3
# Apache-2.0
Provides:       bundled(golang(github.com/inetaf/tcpproxy)) = v0.0.0~20240214030015~3ce58045626c
# BSD-3-Clause
Provides:       bundled(golang(github.com/insomniacslk/dhcp)) = v0.0.0~20231206064809~8c70d406f6d2
# MIT
Provides:       bundled(golang(github.com/jellydator/ttlcache/v3)) = v3.1.0
# MIT
Provides:       bundled(golang(github.com/josharian/native)) = v1.1.1~0.20230202152459~5c7d0dd6ab86
# MIT
Provides:       bundled(golang(github.com/jsimonetti/rtnetlink)) = v1.4.0
# MIT
Provides:       bundled(golang(github.com/kballard/go-shellquote)) = v0.0.0~20180428030007~95032a82bc51
# BSD-3-Clause OR Apache-2.0 OR MIT
Provides:       bundled(golang(github.com/klauspost/compress)) = v1.17.11
# BSD-3-Clause
Provides:       bundled(golang(github.com/kortschak/wol)) = v0.0.0~20200729010619~da482cc4850a
# MIT
Provides:       bundled(golang(github.com/mattn/go-colorable)) = v0.1.13
# MIT
Provides:       bundled(golang(github.com/mattn/go-isatty)) = v0.0.20
# MIT
Provides:       bundled(golang(github.com/mdlayher/genetlink)) = v1.3.2
# MIT
Provides:       bundled(golang(github.com/mdlayher/netlink)) = v1.7.2
# MIT
Provides:       bundled(golang(github.com/mdlayher/sdnotify)) = v1.0.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/miekg/dns)) = v1.1.58
# MIT
Provides:       bundled(golang(github.com/mitchellh/go-ps)) = v1.0.0
# Apache-2.0
Provides:       bundled(golang(github.com/peterbourgon/ff/v3)) = v3.4.0
# BSD-2-Clause
Provides:       bundled(golang(github.com/pkg/errors)) = v0.9.1
# BSD-2-Clause
Provides:       bundled(golang(github.com/pkg/sftp)) = v1.13.6
# MIT
Provides:       bundled(golang(github.com/prometheus-community/pro-bing)) = v0.4.0
# Apache-2.0
Provides:       bundled(golang(github.com/prometheus/client_golang)) = v1.19.1
# Apache-2.0
Provides:       bundled(golang(github.com/prometheus/common)) = v0.48.0
#
Provides:       bundled(golang(github.com/prometheus/prometheus)) = v0.49.2~0.20240125131847~c3b8ef1694ff
# Apache-2.0
Provides:       bundled(golang(github.com/safchain/ethtool)) = v0.3.0
# MIT
Provides:       bundled(golang(github.com/skip2/go-qrcode)) = v0.0.0~20200617195104~da1b6568686e
# BSD-3-Clause
Provides:       bundled(golang(github.com/studio-b12/gowebdav)) = v0.9.0
# MIT
Provides:       bundled(golang(github.com/tailscale/certstore)) = v0.1.1~0.20231202035212~d3fa0460f47e
# BSD-3-Clause
Provides:       bundled(golang(github.com/tailscale/depaware)) = v0.0.0~20210622194025~720c4b409502
# BSD-3-Clause
Provides:       bundled(golang(github.com/tailscale/goexpect)) = v0.0.0~20210902213824~6e8c725cea41
#
Provides:       bundled(golang(github.com/tailscale/golang-x-crypto)) = v0.0.0~20240604161659~3fde5e568aa4
# BSD-2-Clause
Provides:       bundled(golang(github.com/tailscale/goupnp)) = v1.0.1~0.20210804011211~c64d0f06ea05
# BSD-3-Clause
Provides:       bundled(golang(github.com/tailscale/hujson)) = v0.0.0~20221223112325~20486734a56a
# BSD-3-Clause
Provides:       bundled(golang(github.com/tailscale/mkctr)) = v0.0.0~20241111153353~1a38f6676f10
# Apache-2.0
Provides:       bundled(golang(github.com/tailscale/netlink)) = v1.1.1~0.20240822203006~4d49adab4de7
# BSD-3-Clause
Provides:       bundled(golang(github.com/tailscale/peercred)) = v0.0.0~20240214030740~b535050b2aa4
# BSD-3-Clause
Provides:       bundled(golang(github.com/tailscale/web-client-prebuilt)) = v0.0.0~20240226180453~5db17b287bf1
# BSD-3-Clause
Provides:       bundled(golang(github.com/tailscale/wf)) = v0.0.0~20240214030419~6fbb0a674ee6
#
Provides:       bundled(golang(github.com/tailscale/wireguard-go)) = v0.0.0~20241113014420~4e883d38c8d3
#
Provides:       bundled(golang(github.com/tailscale/xnet)) = v0.0.0~20240729143630~8497ac4dab2e
# 0BSD
Provides:       bundled(golang(github.com/tc-hib/winres)) = v0.2.1
# MIT
Provides:       bundled(golang(github.com/tcnksm/go-httpstat)) = v0.2.0
# MIT
Provides:       bundled(golang(github.com/toqueteos/webbrowser)) = v1.2.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/u-root/u-root)) = v0.12.0
# Apache-2.0
Provides:       bundled(golang(github.com/vishvananda/netns)) = v0.0.4
# MIT
Provides:       bundled(golang(go.uber.org/zap)) = v1.27.0
# Apache-2.0
Provides:       bundled(golang(go4.org/mem)) = v0.0.0~20220726221520~4f986261bf13
# BSD-3-Clause
Provides:       bundled(golang(go4.org/netipx)) = v0.0.0~20231129151722~fdeea329fbba
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/crypto)) = v0.25.0
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/exp)) = v0.0.0~20240119083558~1b970713d09a
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/mod)) = v0.19.0
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/net)) = v0.27.0
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/oauth2)) = v0.16.0
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/sync)) = v0.9.0
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/sys)) = v0.27.0
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/term)) = v0.22.0
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/time)) = v0.5.0
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/tools)) = v0.23.0
# MIT
Provides:       bundled(golang(golang.zx2c4.com/wintun)) = v0.0.0~20230126152724~0fa3db229ce2
# MIT
Provides:       bundled(golang(golang.zx2c4.com/wireguard/windows)) = v0.5.3
# Apache-2.0
Provides:       bundled(golang(gopkg.in/square/go-jose.v2)) = v2.6.0
# Apache-2.0 OR MIT
Provides:       bundled(golang(gvisor.dev/gvisor)) = v0.0.0~20240722211153~64c016c92987
# MIT OR BSD-3-Clause
Provides:       bundled(golang(honnef.co/go/tools)) = v0.5.1
# Apache-2.0
Provides:       bundled(golang(k8s.io/api)) = v0.30.3
# Apache-2.0
Provides:       bundled(golang(k8s.io/apimachinery)) = v0.30.3
# Apache-2.0
Provides:       bundled(golang(k8s.io/apiserver)) = v0.30.3
# Apache-2.0
Provides:       bundled(golang(k8s.io/client-go)) = v0.30.3
# Apache-2.0
Provides:       bundled(golang(sigs.k8s.io/controller-runtime)) = v0.18.4
# Apache-2.0
Provides:       bundled(golang(sigs.k8s.io/controller-tools)) = v0.15.1~0.20240618033008~7824932b0cab
# MIT OR BSD-3-Clause OR Apache-2.0
Provides:       bundled(golang(sigs.k8s.io/yaml)) = v1.4.0
#
Provides:       bundled(golang(software.sslmate.com/src/go-pkcs12)) = v0.4.0
# MIT
Provides:       bundled(golang(github.com/4meepo/tagalign)) = v1.3.3
# MIT
Provides:       bundled(golang(github.com/Antonboom/testifylint)) = v1.2.0
# MIT
Provides:       bundled(golang(github.com/GaijinEntertainment/go-exhaustruct/v3)) = v3.2.0
# MIT
Provides:       bundled(golang(github.com/Masterminds/sprig)) = v2.22.0+incompatible
# MIT
Provides:       bundled(golang(github.com/Microsoft/go-winio)) = v0.6.2
# GPL-3.0 OR GPL-3.0-or-later
Provides:       bundled(golang(github.com/OpenPeeDeeP/depguard/v2)) = v2.2.0
# Unlicense OR MIT
Provides:       bundled(golang(github.com/alecthomas/go-check-sumtype)) = v0.1.4
# MIT
Provides:       bundled(golang(github.com/alexkohler/nakedret/v2)) = v2.0.4
# BSD-3-Clause
Provides:       bundled(golang(github.com/bits-and-blooms/bitset)) = v1.13.0
# MIT
Provides:       bundled(golang(github.com/bombsimon/wsl/v4)) = v4.2.1
# MIT
Provides:       bundled(golang(github.com/butuzov/mirror)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/catenacyber/perfsprint)) = v0.7.1
# MIT
Provides:       bundled(golang(github.com/ccojocar/zxcvbn-go)) = v1.0.2
# MIT
Provides:       bundled(golang(github.com/ckaznocha/intrange)) = v0.1.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/cyphar/filepath-securejoin)) = v0.2.4
# MIT
Provides:       bundled(golang(github.com/dave/astrid)) = v0.0.0~20170323122508~8c2895878b14
# MIT
Provides:       bundled(golang(github.com/dave/brenda)) = v1.1.0
# Apache-2.0
Provides:       bundled(golang(github.com/docker/go-connections)) = v0.5.0
# Apache-2.0
Provides:       bundled(golang(github.com/docker/go-units)) = v0.5.0
# MIT
Provides:       bundled(golang(github.com/felixge/httpsnoop)) = v1.0.4
# MIT
Provides:       bundled(golang(github.com/ghostiam/protogetter)) = v0.3.5
# Apache-2.0
Provides:       bundled(golang(github.com/go-logr/stdr)) = v1.2.2
#
Provides:       bundled(golang(github.com/go-viper/mapstructure/v2)) = v2.0.0~alpha.1
# MIT
Provides:       bundled(golang(github.com/gobuffalo/flect)) = v1.0.2
# MIT
Provides:       bundled(golang(github.com/goccy/go-yaml)) = v1.12.0
#
Provides:       bundled(golang(github.com/golang/freetype)) = v0.0.0~20170609003504~e2365dfdc4a0
# GPL-3.0
Provides:       bundled(golang(github.com/golangci/plugin-module-register)) = v0.1.1
#
Provides:       bundled(golang(github.com/google/gnostic-models)) = v0.6.9~0.20230804172637~c7be7c783f49
# Apache-2.0
Provides:       bundled(golang(github.com/google/pprof)) = v0.0.0~20240409012703~83162a5b38cd
# BSD-3-Clause
Provides:       bundled(golang(github.com/gorilla/securecookie)) = v1.1.2
# MIT
Provides:       bundled(golang(github.com/jjti/go-spancheck)) = v0.5.3
# MIT
Provides:       bundled(golang(github.com/karamaru-alpha/copyloopvar)) = v1.0.8
# MIT
Provides:       bundled(golang(github.com/macabu/inamedparam)) = v0.1.3
# Apache-2.0
Provides:       bundled(golang(github.com/moby/docker-image-spec)) = v1.3.1
# Apache-2.0
Provides:       bundled(golang(github.com/santhosh-tekuri/jsonschema/v5)) = v5.3.1
# GPL-3.0 OR GPL-3.0-or-later
Provides:       bundled(golang(github.com/xen0n/gosmopolitan)) = v1.2.2
# MIT
Provides:       bundled(golang(github.com/ykadowak/zerologlint)) = v0.1.5
# MPL-2.0
Provides:       bundled(golang(go-simpler.org/musttag)) = v0.9.0
# MPL-2.0
Provides:       bundled(golang(go-simpler.org/sloglint)) = v0.5.0
# Apache-2.0
Provides:       bundled(golang(go.opentelemetry.io/contrib/instrumentation/net/http/otelhttp)) = v0.57.0
# Apache-2.0
Provides:       bundled(golang(go.opentelemetry.io/otel)) = v1.32.0
# Apache-2.0
Provides:       bundled(golang(go.opentelemetry.io/otel/metric)) = v1.32.0
# Apache-2.0
Provides:       bundled(golang(go.opentelemetry.io/otel/trace)) = v1.32.0
# MIT
Provides:       bundled(golang(go.uber.org/automaxprocs)) = v1.5.3
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/xerrors)) = v0.0.0~20240716161551~93cc26a95ae9
# MIT
Provides:       bundled(golang(4d63.com/gocheckcompilerdirectives)) = v1.2.1
# MIT
Provides:       bundled(golang(4d63.com/gochecknoglobals)) = v0.2.1
# BSD-3-Clause
Provides:       bundled(golang(dario.cat/mergo)) = v1.0.0
# BSD-3-Clause
Provides:       bundled(golang(filippo.io/edwards25519)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/Abirdcfly/dupword)) = v0.0.14
# MIT
Provides:       bundled(golang(github.com/AlekSi/pointer)) = v1.2.0
# MIT
Provides:       bundled(golang(github.com/Antonboom/errname)) = v0.1.12
# MIT
Provides:       bundled(golang(github.com/Antonboom/nilnil)) = v0.1.7
# MIT
Provides:       bundled(golang(github.com/BurntSushi/toml)) = v1.4.1~0.20240526193622~a339e1f7089c
# MIT
Provides:       bundled(golang(github.com/Djarvur/go-err113)) = v0.1.0
# Apache-2.0
Provides:       bundled(golang(github.com/Masterminds/goutils)) = v1.1.1
# MIT
Provides:       bundled(golang(github.com/Masterminds/semver)) = v1.5.0
# MIT
Provides:       bundled(golang(github.com/Masterminds/semver/v3)) = v3.2.1
# MIT
Provides:       bundled(golang(github.com/Masterminds/sprig/v3)) = v3.2.3
# BSD-3-Clause
Provides:       bundled(golang(github.com/ProtonMail/go-crypto)) = v1.0.0
# MIT
Provides:       bundled(golang(github.com/alexkohler/prealloc)) = v1.0.0
# MIT
Provides:       bundled(golang(github.com/alingse/asasalint)) = v0.0.11
# Apache-2.0
Provides:       bundled(golang(github.com/ashanbrown/forbidigo)) = v1.6.0
# Apache-2.0
Provides:       bundled(golang(github.com/ashanbrown/makezero)) = v1.1.1
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/aws/protocol/eventstream)) = v1.4.10
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/credentials)) = v1.16.16
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/feature/ec2/imds)) = v1.14.11
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/internal/configsources)) = v1.2.10
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/internal/endpoints/v2)) = v2.5.10
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/internal/ini)) = v1.7.2
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/internal/v4a)) = v1.0.25
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/service/internal/accept-encoding)) = v1.10.4
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/service/internal/checksum)) = v1.1.28
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/service/internal/presigned-url)) = v1.10.10
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/service/internal/s3shared)) = v1.14.2
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/service/sso)) = v1.18.7
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/service/ssooidc)) = v1.21.7
# Apache-2.0
Provides:       bundled(golang(github.com/aws/aws-sdk-go-v2/service/sts)) = v1.26.7
# Apache-2.0
Provides:       bundled(golang(github.com/aws/smithy-go)) = v1.19.0
# MIT
Provides:       bundled(golang(github.com/beorn7/perks)) = v1.0.1
# MIT
Provides:       bundled(golang(github.com/bkielbasa/cyclop)) = v1.2.1
# MIT
Provides:       bundled(golang(github.com/blakesmith/ar)) = v0.0.0~20190502131153~809d4375e1fb
# MIT
Provides:       bundled(golang(github.com/blizzy78/varnamelen)) = v0.8.0
# MIT
Provides:       bundled(golang(github.com/breml/bidichk)) = v0.2.7
# MIT
Provides:       bundled(golang(github.com/breml/errchkjson)) = v0.3.6
# MIT
Provides:       bundled(golang(github.com/butuzov/ireturn)) = v0.3.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/cavaliergopher/cpio)) = v1.0.1
# MIT
Provides:       bundled(golang(github.com/cespare/xxhash/v2)) = v2.2.0
# Apache-2.0
Provides:       bundled(golang(github.com/charithe/durationcheck)) = v0.0.10
# MIT
Provides:       bundled(golang(github.com/chavacava/garif)) = v0.1.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/cloudflare/circl)) = v1.3.7
# Apache-2.0
Provides:       bundled(golang(github.com/containerd/stargz-snapshotter/estargz)) = v0.15.1
# MIT
Provides:       bundled(golang(github.com/curioswitch/go-reassign)) = v0.2.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/daixiang0/gci)) = v0.12.3
# ISC
Provides:       bundled(golang(github.com/davecgh/go-spew)) = v1.1.2~0.20180830191138~d8f796af33cc
# GPL-3.0
Provides:       bundled(golang(github.com/denis-tingaikin/go-header)) = v0.5.0
# Apache-2.0
Provides:       bundled(golang(github.com/docker/cli)) = v27.3.1+incompatible
# Apache-2.0
Provides:       bundled(golang(github.com/docker/distribution)) = v2.8.3+incompatible
# Apache-2.0
Provides:       bundled(golang(github.com/docker/docker)) = v27.3.1+incompatible
# MIT
Provides:       bundled(golang(github.com/docker/docker-credential-helpers)) = v0.8.2
# MIT
Provides:       bundled(golang(github.com/emicklei/go-restful/v3)) = v3.11.2
# BSD-2-Clause OR ISC
Provides:       bundled(golang(github.com/emirpasic/gods)) = v1.18.1
# MIT
Provides:       bundled(golang(github.com/ettle/strcase)) = v0.2.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/evanphx/json-patch)) = v5.6.0+incompatible
# BSD-3-Clause
Provides:       bundled(golang(github.com/evanphx/json-patch/v5)) = v5.9.0
# MIT
Provides:       bundled(golang(github.com/fatih/color)) = v1.17.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/fatih/structtag)) = v1.2.0
# GPL-3.0
Provides:       bundled(golang(github.com/firefart/nonamedreturns)) = v1.0.4
# BSD-3-Clause
Provides:       bundled(golang(github.com/fsnotify/fsnotify)) = v1.7.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/fzipp/gocyclo)) = v0.6.0
# MIT
Provides:       bundled(golang(github.com/go-critic/go-critic)) = v0.11.2
# BSD-3-Clause
Provides:       bundled(golang(github.com/go-git/gcfg)) = v1.5.1~0.20230307220236~3a3c6141e376
# Apache-2.0
Provides:       bundled(golang(github.com/go-git/go-billy/v5)) = v5.5.0
# Apache-2.0
Provides:       bundled(golang(github.com/go-git/go-git/v5)) = v5.11.0
# Apache-2.0
Provides:       bundled(golang(github.com/go-logr/logr)) = v1.4.2
# Apache-2.0
Provides:       bundled(golang(github.com/go-openapi/jsonpointer)) = v0.20.2
# Apache-2.0
Provides:       bundled(golang(github.com/go-openapi/jsonreference)) = v0.20.4
# Apache-2.0
Provides:       bundled(golang(github.com/go-openapi/swag)) = v0.22.7
# MIT
Provides:       bundled(golang(github.com/go-toolsmith/astcast)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/go-toolsmith/astcopy)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/go-toolsmith/astequal)) = v1.2.0
# MIT
Provides:       bundled(golang(github.com/go-toolsmith/astfmt)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/go-toolsmith/astp)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/go-toolsmith/strparse)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/go-toolsmith/typep)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/go-xmlfmt/xmlfmt)) = v1.1.2
# MIT
Provides:       bundled(golang(github.com/gobwas/glob)) = v0.2.3
# BSD-3-Clause
Provides:       bundled(golang(github.com/gofrs/flock)) = v0.8.1
# BSD-3-Clause
Provides:       bundled(golang(github.com/gogo/protobuf)) = v1.3.2
# BSD-3-Clause
Provides:       bundled(golang(github.com/golang/protobuf)) = v1.5.4
# MIT
Provides:       bundled(golang(github.com/golangci/dupl)) = v0.0.0~20180902072040~3e9179ac440a
#
Provides:       bundled(golang(github.com/golangci/gofmt)) = v0.0.0~20231018234816~f50ced29576e
# MIT
Provides:       bundled(golang(github.com/golangci/misspell)) = v0.4.1
# Apache-2.0
Provides:       bundled(golang(github.com/golangci/revgrep)) = v0.5.2
# BSD-3-Clause
Provides:       bundled(golang(github.com/golangci/unconvert)) = v0.0.0~20240309020433~c5143eacb3ed
# Apache-2.0
Provides:       bundled(golang(github.com/google/btree)) = v1.1.2
# Apache-2.0
Provides:       bundled(golang(github.com/google/gofuzz)) = v1.2.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/google/goterm)) = v0.0.0~20200907032337~555d40f16ae2
# Apache-2.0
Provides:       bundled(golang(github.com/google/rpmpack)) = v0.5.0
# MIT
Provides:       bundled(golang(github.com/gordonklaus/ineffassign)) = v0.1.0
# MIT
Provides:       bundled(golang(github.com/goreleaser/chglog)) = v0.5.0
# MIT
Provides:       bundled(golang(github.com/goreleaser/fileglob)) = v1.3.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/gorilla/csrf)) = v1.7.2
# MIT
Provides:       bundled(golang(github.com/gostaticanalysis/analysisutil)) = v0.7.1
# MIT
Provides:       bundled(golang(github.com/gostaticanalysis/comment)) = v1.4.2
# MIT
Provides:       bundled(golang(github.com/gostaticanalysis/forcetypeassert)) = v0.1.0
# MIT
Provides:       bundled(golang(github.com/gostaticanalysis/nilerr)) = v0.1.1
# MPL-2.0
Provides:       bundled(golang(github.com/hashicorp/go-version)) = v1.6.0
# MPL-2.0
Provides:       bundled(golang(github.com/hashicorp/hcl)) = v1.0.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/hexops/gotextdiff)) = v1.0.3
# MIT
Provides:       bundled(golang(github.com/huandu/xstrings)) = v1.5.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/imdario/mergo)) = v0.3.16
# Apache-2.0
Provides:       bundled(golang(github.com/inconshreveable/mousetrap)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/jbenet/go-context)) = v0.0.0~20150711004518~d14ea06fba99
# MIT
Provides:       bundled(golang(github.com/jgautheron/goconst)) = v1.7.0
# MIT
Provides:       bundled(golang(github.com/jingyugao/rowserrcheck)) = v1.1.1
# MIT
Provides:       bundled(golang(github.com/jirfag/go-printf-func-name)) = v0.0.0~20200119135958~7558a9eaa5af
# Apache-2.0
Provides:       bundled(golang(github.com/jmespath/go-jmespath)) = v0.4.0
# MIT
Provides:       bundled(golang(github.com/josharian/intern)) = v1.0.0
# MIT
Provides:       bundled(golang(github.com/json-iterator/go)) = v1.1.12
# Apache-2.0
Provides:       bundled(golang(github.com/julz/importas)) = v0.1.0
# MIT
Provides:       bundled(golang(github.com/kevinburke/ssh_config)) = v1.2.0
# MIT
Provides:       bundled(golang(github.com/kisielk/errcheck)) = v1.7.0
# Apache-2.0
Provides:       bundled(golang(github.com/kkHAIKE/contextcheck)) = v1.1.4
# MIT OR BSD-3-Clause
Provides:       bundled(golang(github.com/klauspost/pgzip)) = v1.2.6
# BSD-3-Clause
Provides:       bundled(golang(github.com/kr/fs)) = v0.1.0
# MIT
Provides:       bundled(golang(github.com/kr/pretty)) = v0.3.1
# MIT
Provides:       bundled(golang(github.com/kr/text)) = v0.2.0
# MIT
Provides:       bundled(golang(github.com/kulti/thelper)) = v0.6.3
# MIT
Provides:       bundled(golang(github.com/kunwardeep/paralleltest)) = v1.0.10
# MIT
Provides:       bundled(golang(github.com/kyoh86/exportloopref)) = v0.1.11
# Apache-2.0
Provides:       bundled(golang(github.com/ldez/gomoddirectives)) = v0.2.3
# Apache-2.0
Provides:       bundled(golang(github.com/ldez/tagliatelle)) = v0.5.0
# GPL-3.0
Provides:       bundled(golang(github.com/leonklingele/grouper)) = v1.1.1
# MIT
Provides:       bundled(golang(github.com/lufeee/execinquery)) = v1.2.1
# BSD-2-Clause
Provides:       bundled(golang(github.com/magiconair/properties)) = v1.8.7
# MIT
Provides:       bundled(golang(github.com/mailru/easyjson)) = v0.7.7
# MIT
Provides:       bundled(golang(github.com/maratori/testableexamples)) = v1.0.0
# MIT
Provides:       bundled(golang(github.com/maratori/testpackage)) = v1.1.1
#
Provides:       bundled(golang(github.com/matoous/godox)) = v0.0.0~20230222163458~006bad1f9d26
# MIT
Provides:       bundled(golang(github.com/mattn/go-runewidth)) = v0.0.14
# MIT
Provides:       bundled(golang(github.com/mdlayher/socket)) = v0.5.0
# MIT
Provides:       bundled(golang(github.com/mgechev/revive)) = v1.3.7
# MIT
Provides:       bundled(golang(github.com/mitchellh/copystructure)) = v1.2.0
# MIT
Provides:       bundled(golang(github.com/mitchellh/go-homedir)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/mitchellh/mapstructure)) = v1.5.0
# MIT
Provides:       bundled(golang(github.com/mitchellh/reflectwalk)) = v1.0.2
# Apache-2.0
Provides:       bundled(golang(github.com/modern-go/concurrent)) = v0.0.0~20180306012644~bacd9c7ef1dd
# Apache-2.0
Provides:       bundled(golang(github.com/modern-go/reflect2)) = v1.0.2
# MIT
Provides:       bundled(golang(github.com/moricho/tparallel)) = v0.3.1
# BSD-3-Clause
Provides:       bundled(golang(github.com/munnerz/goautoneg)) = v0.0.0~20191010083416~a7dc8b61c822
# BSD-2-Clause
Provides:       bundled(golang(github.com/nakabonne/nestif)) = v0.3.1
# ISC
Provides:       bundled(golang(github.com/nfnt/resize)) = v0.0.0~20180221191011~83c6a9932646
# BSD-2-Clause
Provides:       bundled(golang(github.com/nishanths/exhaustive)) = v0.12.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/nishanths/predeclared)) = v0.2.2
# MIT
Provides:       bundled(golang(github.com/nunnatsa/ginkgolinter)) = v0.16.1
# MIT
Provides:       bundled(golang(github.com/olekukonko/tablewriter)) = v0.0.5
# Apache-2.0 OR CC-BY-SA-4.0
Provides:       bundled(golang(github.com/opencontainers/go-digest)) = v1.0.0
# Apache-2.0
Provides:       bundled(golang(github.com/opencontainers/image-spec)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/pelletier/go-toml/v2)) = v2.2.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/pierrec/lz4/v4)) = v4.1.21
# Apache-2.0
Provides:       bundled(golang(github.com/pjbgf/sha1cd)) = v0.3.0
#
Provides:       bundled(golang(github.com/pkg/diff)) = v0.0.0~20210226163009~20ebb0f2a09e
# BSD-3-Clause
Provides:       bundled(golang(github.com/pmezard/go-difflib)) = v1.0.1~0.20181226105442~5d4384ee4fb2
# MIT
Provides:       bundled(golang(github.com/polyfloyd/go-errorlint)) = v1.4.8
# Apache-2.0
Provides:       bundled(golang(github.com/prometheus/client_model)) = v0.5.0
# Apache-2.0
Provides:       bundled(golang(github.com/prometheus/procfs)) = v0.12.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/quasilyte/go-ruleguard)) = v0.4.2
# BSD-3-Clause
Provides:       bundled(golang(github.com/quasilyte/gogrep)) = v0.5.0
# MIT
Provides:       bundled(golang(github.com/quasilyte/regex/syntax)) = v0.0.0~20210819130434~b3f0c404a727
# MIT
Provides:       bundled(golang(github.com/quasilyte/stdinfo)) = v0.0.0~20220114132959~f7386bf02567
# MIT
Provides:       bundled(golang(github.com/rivo/uniseg)) = v0.4.4
# BSD-3-Clause
Provides:       bundled(golang(github.com/rogpeppe/go-internal)) = v1.12.0
# MIT
Provides:       bundled(golang(github.com/ryancurrah/gomodguard)) = v1.3.1
# MIT
Provides:       bundled(golang(github.com/ryanrolds/sqlclosecheck)) = v0.5.1
# MIT
Provides:       bundled(golang(github.com/sanposhiho/wastedassign/v2)) = v2.0.7
# MIT
Provides:       bundled(golang(github.com/sashamelentyev/interfacebloat)) = v1.1.0
# MIT
Provides:       bundled(golang(github.com/sashamelentyev/usestdlibvars)) = v1.25.0
# Apache-2.0
Provides:       bundled(golang(github.com/securego/gosec/v2)) = v2.19.0
# MIT OR Apache-2.0
Provides:       bundled(golang(github.com/sergi/go-diff)) = v1.3.1
# MIT
Provides:       bundled(golang(github.com/shazow/go-diff)) = v0.0.0~20160112020656~b6b7b6733b8c
# MIT
Provides:       bundled(golang(github.com/shopspring/decimal)) = v1.3.1
# MIT
Provides:       bundled(golang(github.com/sirupsen/logrus)) = v1.9.3
# MIT
Provides:       bundled(golang(github.com/sivchari/containedctx)) = v1.0.3
# MIT
Provides:       bundled(golang(github.com/sivchari/tenv)) = v1.7.1
# Apache-2.0
Provides:       bundled(golang(github.com/skeema/knownhosts)) = v1.2.1
# MIT
Provides:       bundled(golang(github.com/sonatard/noctx)) = v0.0.2
# MIT
Provides:       bundled(golang(github.com/sourcegraph/go-diff)) = v0.7.0
# Apache-2.0
Provides:       bundled(golang(github.com/spf13/afero)) = v1.11.0
# MIT
Provides:       bundled(golang(github.com/spf13/cast)) = v1.6.0
# Apache-2.0
Provides:       bundled(golang(github.com/spf13/cobra)) = v1.8.1
# MIT
Provides:       bundled(golang(github.com/spf13/jwalterweatherman)) = v1.1.0
# BSD-3-Clause
Provides:       bundled(golang(github.com/spf13/pflag)) = v1.0.5
# MIT
Provides:       bundled(golang(github.com/spf13/viper)) = v1.16.0
# MIT
Provides:       bundled(golang(github.com/ssgreg/nlreturn/v2)) = v2.2.1
# MIT
Provides:       bundled(golang(github.com/stbenjam/no-sprintf-host-port)) = v0.1.1
# MIT
Provides:       bundled(golang(github.com/stretchr/objx)) = v0.5.2
# MIT
Provides:       bundled(golang(github.com/stretchr/testify)) = v1.9.0
# MIT
Provides:       bundled(golang(github.com/subosito/gotenv)) = v1.4.2
# MIT
Provides:       bundled(golang(github.com/t-yuki/gocover-cobertura)) = v0.0.0~20180217150009~aaee18c8195c
# MIT
Provides:       bundled(golang(github.com/tailscale/go-winio)) = v0.0.0~20231025203758~c4f33415bf55
# MIT
Provides:       bundled(golang(github.com/tdakkota/asciicheck)) = v0.2.0
# MIT
Provides:       bundled(golang(github.com/tetafro/godot)) = v1.4.16
# MIT
Provides:       bundled(golang(github.com/timakin/bodyclose)) = v0.0.0~20230421092635~574207250966
# MIT
Provides:       bundled(golang(github.com/timonwong/loggercheck)) = v0.9.4
# MIT
Provides:       bundled(golang(github.com/tomarrell/wrapcheck/v2)) = v2.8.3
# MIT
Provides:       bundled(golang(github.com/tommy-muehle/go-mnd/v2)) = v2.5.1
# BSD-3-Clause
Provides:       bundled(golang(github.com/u-root/uio)) = v0.0.0~20240118234441~a3c409a6018e
# BSD-3-Clause
Provides:       bundled(golang(github.com/ulikunitz/xz)) = v0.5.11
# MIT
Provides:       bundled(golang(github.com/ultraware/funlen)) = v0.1.0
# MIT
Provides:       bundled(golang(github.com/ultraware/whitespace)) = v0.1.0
# MIT
Provides:       bundled(golang(github.com/uudashr/gocognit)) = v1.1.2
# BSD-3-Clause
Provides:       bundled(golang(github.com/vbatts/tar-split)) = v0.11.6
# MIT
Provides:       bundled(golang(github.com/x448/float16)) = v0.8.4
# Apache-2.0
Provides:       bundled(golang(github.com/xanzy/ssh-agent)) = v0.3.3
# MIT
Provides:       bundled(golang(github.com/yagipy/maintidx)) = v1.0.0
# Apache-2.0
Provides:       bundled(golang(github.com/yeya24/promlinter)) = v0.2.0
# MIT
Provides:       bundled(golang(gitlab.com/bosi/decorder)) = v0.4.1
# MIT
Provides:       bundled(golang(gitlab.com/digitalxero/go-conventional-commit)) = v1.0.7
# MIT
Provides:       bundled(golang(go.uber.org/multierr)) = v1.11.0
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/exp/typeparams)) = v0.0.0~20240314144324~c7f7c6466f7f
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/image)) = v0.18.0
# BSD-3-Clause
Provides:       bundled(golang(golang.org/x/text)) = v0.16.0
# Apache-2.0
Provides:       bundled(golang(gomodules.xyz/jsonpatch/v2)) = v2.4.0
# Apache-2.0
Provides:       bundled(golang(google.golang.org/appengine)) = v1.6.8
# BSD-3-Clause
Provides:       bundled(golang(google.golang.org/protobuf)) = v1.33.0
# BSD-3-Clause
Provides:       bundled(golang(gopkg.in/inf.v0)) = v0.9.1
# Apache-2.0
Provides:       bundled(golang(gopkg.in/ini.v1)) = v1.67.0
# BSD-2-Clause
Provides:       bundled(golang(gopkg.in/warnings.v0)) = v0.1.2
# Apache-2.0 OR MIT
Provides:       bundled(golang(gopkg.in/yaml.v2)) = v2.4.0
# MIT OR Apache-2.0
Provides:       bundled(golang(gopkg.in/yaml.v3)) = v3.0.1
# BSD-2-Clause-Views OR BSD-3-Clause
Provides:       bundled(golang(howett.net/plist)) = v1.0.0
# Apache-2.0
Provides:       bundled(golang(k8s.io/apiextensions-apiserver)) = v0.30.3
# Apache-2.0
Provides:       bundled(golang(k8s.io/klog/v2)) = v2.130.1
# Apache-2.0
Provides:       bundled(golang(k8s.io/kube-openapi)) = v0.0.0~20240228011516~70dd3763d340
# Apache-2.0
Provides:       bundled(golang(k8s.io/utils)) = v0.0.0~20240711033017~18e509b52bc8
# BSD-3-Clause
Provides:       bundled(golang(mvdan.cc/gofumpt)) = v0.6.0
# BSD-3-Clause
Provides:       bundled(golang(mvdan.cc/unparam)) = v0.0.0~20240104100049~c549a3470d14
# Apache-2.0 OR BSD-3-Clause
Provides:       bundled(golang(sigs.k8s.io/json)) = v0.0.0~20221116044647~bc3834ca7abd
# Apache-2.0
Provides:       bundled(golang(sigs.k8s.io/structured-merge-diff/v4)) = v4.4.1

%description %{common_description}


%if %{without vendor}
%gopkg
%endif


%prep
%goprep %{?with_vendor:-k}
#%%autopatch -p1


%build
# https://github.com/tailscale/tailscale/blob/v1.68.1/README.md#building
export LDFLAGS="-X tailscale.com/version.longStamp=%{version} -X tailscale.com/version.shortStamp=%{version}"

%gobuild -o %{gobuilddir}/bin/tailscale ./cmd/tailscale
%gobuild -o %{gobuilddir}/bin/tailscaled ./cmd/tailscaled


%install
%if %{without vendor}
%gopkginstall
%endif
install -m 0755 -vd                     %{buildroot}%{_bindir}
install -m 0755 -vp %{gobuilddir}/bin/* %{buildroot}%{_bindir}/

# install systemd service file
install -Dpm 644 %{SOURCE1} %{buildroot}%{_unitdir}/tailscaled.service

# install dirs to be owned by package (it will auto create them otherwise)
install -dpm 600 %{buildroot}%{_sharedstatedir}/tailscale
install -dpm 600 %{buildroot}%{_localstatedir}/cache/tailscale


# vendoring doesn't grab all test deps so we can't run them
%if %{with check}
%check
%gocheck
%endif


%post
%systemd_post tailscaled.service


%preun
%systemd_preun tailscaled.service


%postun
%systemd_postun_with_restart tailscaled.service


%files
%license LICENSE
%license PATENTS
# contains details of direct dependencies and their licenses
%license licenses/tailscale.md
%doc api.md
%doc AUTHORS
%doc SECURITY.md
%doc derp/README.md
%{_bindir}/tailscale{,d}
%{_unitdir}/tailscaled.service
%dir %{_sharedstatedir}/tailscale/
%dir %{_localstatedir}/cache/tailscale

%if %{without vendor}
%gopkgfiles
%endif


%changelog
* Thu Jan 16 2025 Jonathan Wright <jonathan@almalinux.org> - 1.78.3-1
- update to 1.78.3 rhbz#2330707

* Mon Nov 11 2024 Jonathan Wright <jonathan@almalinux.org> - 1.76.6-1
- update to 1.76.6 rhbz#2307488

* Fri Jul 19 2024 Jonathan Wright <jonathan@almalinux.org> - 1.70.0-1
- update to 1.70.0 rhbz#2298530

* Fri Jul 05 2024 Jonathan Wright <jonathan@almalinux.org> - 1.68.2-2
- Fix systemd service file

* Fri Jul 05 2024 Jonathan Wright <jonathan@almalinux.org> - 1.68.2-1
- update to 1.68.2 rhbz#2295738

* Mon Jul 01 2024 Jonathan Wright <jonathan@almalinux.org> - 1.68.1-1
- Update to 1.68.1

* Mon Jun 17 2024 Jonathan Wright <jonathan@almalinux.org> - 1.58.2-1
- Initial package build
